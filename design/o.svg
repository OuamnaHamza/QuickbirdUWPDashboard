<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1000pt" height="660pt"
 viewBox="0.00 0.00 1000.00 660.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 656)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-656 996,-656 996,4 -4,4"/>
<g id="clust1" class="cluster"><title>cluster0</title>
<polygon fill="lightgray" stroke="lightgray" points="8,-8 8,-644 672,-644 672,-8 8,-8"/>
<text text-anchor="middle" x="340" y="-628.8" font-family="consolas" font-size="14.00">Sync Process</text>
</g>
<g id="clust4" class="cluster"><title>clusterAreItems</title>
<polygon fill="lightgray" stroke="lightgray" points="16,-16 16,-548 340,-548 340,-16 16,-16"/>
</g>
<g id="clust5" class="cluster"><title>clusterNoItems</title>
<polygon fill="lightgray" stroke="lightgray" points="348,-89 348,-388 652,-388 652,-89 348,-89"/>
</g>
<g id="clust6" class="cluster"><title>clusterlegend</title>
<polygon fill="lightgray" stroke="lightgray" points="680,-336 680,-644 984,-644 984,-336 680,-336"/>
<text text-anchor="middle" x="832" y="-628.8" font-family="consolas" font-size="14.00">Legend</text>
</g>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<path fill="orange" stroke="black" d="M238,-613C238,-613 118,-613 118,-613 112,-613 106,-607 106,-601 106,-601 106,-589 106,-589 106,-583 112,-577 118,-577 118,-577 238,-577 238,-577 244,-577 250,-583 250,-589 250,-589 250,-601 250,-601 250,-607 244,-613 238,-613"/>
<text text-anchor="middle" x="178" y="-591.3" font-family="consolas" font-size="14.00">Sync($device)</text>
</g>
<!-- request -->
<g id="node3" class="node"><title>request</title>
<polygon fill="white" stroke="black" points="322,-540 59.7188,-540 34,-504 296.281,-504 322,-540"/>
<text text-anchor="middle" x="178" y="-518.3" font-family="consolas" font-size="14.00">GET:Hist/$device/5/$lastDown</text>
</g>
<!-- start&#45;&gt;request -->
<g id="edge1" class="edge"><title>start&#45;&gt;request</title>
<path fill="none" stroke="black" d="M178,-576.813C178,-568.789 178,-559.047 178,-550.069"/>
<polygon fill="black" stroke="black" points="181.5,-550.029 178,-540.029 174.5,-550.029 181.5,-550.029"/>
</g>
<!-- end -->
<g id="node2" class="node"><title>end</title>
<path fill="orange" stroke="black" d="M629,-60C629,-60 509,-60 509,-60 503,-60 497,-54 497,-48 497,-48 497,-36 497,-36 497,-30 503,-24 509,-24 509,-24 629,-24 629,-24 635,-24 641,-30 641,-36 641,-36 641,-48 641,-48 641,-54 635,-60 629,-60"/>
<text text-anchor="middle" x="569" y="-38.3" font-family="consolas" font-size="14.00">End</text>
</g>
<!-- reqAny -->
<g id="node12" class="node"><title>reqAny</title>
<polygon fill="white" stroke="black" points="188,-467 44,-449 188,-431 332,-449 188,-467"/>
<text text-anchor="middle" x="188" y="-445.3" font-family="consolas" font-size="14.00">result.Any()</text>
</g>
<!-- request&#45;&gt;reqAny -->
<g id="edge2" class="edge"><title>request&#45;&gt;reqAny</title>
<path fill="none" stroke="black" d="M180.421,-503.813C181.551,-495.789 182.923,-486.047 184.187,-477.069"/>
<polygon fill="black" stroke="black" points="187.673,-477.419 185.602,-467.029 180.741,-476.443 187.673,-477.419"/>
</g>
<!-- histNullUploaded -->
<g id="node4" class="node"><title>histNullUploaded</title>
<polygon fill="white" stroke="black" points="644,-380 381.719,-380 356,-344 618.281,-344 644,-380"/>
<text text-anchor="middle" x="500" y="-358.3" font-family="consolas" font-size="14.00">DB:Hist.Where(uploaded=null)</text>
</g>
<!-- nullUploadAny -->
<g id="node13" class="node"><title>nullUploadAny</title>
<polygon fill="white" stroke="black" points="500,-307 356,-289 500,-271 644,-289 500,-307"/>
<text text-anchor="middle" x="500" y="-285.3" font-family="consolas" font-size="14.00">query.Any()</text>
</g>
<!-- histNullUploaded&#45;&gt;nullUploadAny -->
<g id="edge10" class="edge"><title>histNullUploaded&#45;&gt;nullUploadAny</title>
<path fill="none" stroke="black" d="M500,-343.813C500,-335.789 500,-326.047 500,-317.069"/>
<polygon fill="black" stroke="black" points="503.5,-317.029 500,-307.029 496.5,-317.029 503.5,-317.029"/>
</g>
<!-- decode -->
<g id="node5" class="node"><title>decode</title>
<polygon fill="white" stroke="black" points="332,-380 44,-380 44,-344 332,-344 332,-380"/>
<text text-anchor="middle" x="188" y="-358.3" font-family="consolas" font-size="14.00">Decode(results)</text>
</g>
<!-- merge -->
<g id="node6" class="node"><title>merge</title>
<polygon fill="white" stroke="black" points="332,-307 44,-307 44,-271 332,-271 332,-307"/>
<text text-anchor="middle" x="188" y="-285.3" font-family="consolas" font-size="14.00">Merge(decoded)</text>
</g>
<!-- decode&#45;&gt;merge -->
<g id="edge4" class="edge"><title>decode&#45;&gt;merge</title>
<path fill="none" stroke="black" d="M188,-343.813C188,-335.789 188,-326.047 188,-317.069"/>
<polygon fill="black" stroke="black" points="191.5,-317.029 188,-307.029 184.5,-317.029 191.5,-317.029"/>
</g>
<!-- itemOverwritten -->
<g id="node10" class="node"><title>itemOverwritten</title>
<polygon fill="white" stroke="black" points="332,-220 44,-220 44,-184 332,-184 332,-220"/>
<text text-anchor="middle" x="188" y="-198.3" font-family="consolas" font-size="14.00">merged.Where(overwritten)</text>
</g>
<!-- merge&#45;&gt;itemOverwritten -->
<g id="edge5" class="edge"><title>merge&#45;&gt;itemOverwritten</title>
<path fill="none" stroke="black" d="M188,-270.799C188,-259.163 188,-243.548 188,-230.237"/>
<polygon fill="black" stroke="black" points="191.5,-230.175 188,-220.175 184.5,-230.175 191.5,-230.175"/>
</g>
<!-- lastDownUpd -->
<g id="node7" class="node"><title>lastDownUpd</title>
<polygon fill="white" stroke="black" points="317,-60 29,-60 29,-24 317,-24 317,-60"/>
<text text-anchor="middle" x="173" y="-38.3" font-family="consolas" font-size="14.00">$lastDown=items.Last().Date</text>
</g>
<!-- lastDownUpd&#45;&gt;request -->
<g id="edge8" class="edge"><title>lastDownUpd&#45;&gt;request</title>
<path fill="none" stroke="black" d="M70.2091,-60.1297C44.9543,-70.5234 25,-87.2117 25,-114 25,-450 25,-450 25,-450 25,-473.445 39.9648,-489.17 60.534,-499.71"/>
<polygon fill="black" stroke="black" points="59.1183,-502.911 69.6652,-503.917 62.0476,-496.554 59.1183,-502.911"/>
</g>
<!-- setUpdNull -->
<g id="node8" class="node"><title>setUpdNull</title>
<polygon fill="white" stroke="black" points="332,-133 44,-133 44,-97 332,-97 332,-133"/>
<text text-anchor="middle" x="188" y="-111.3" font-family="consolas" font-size="14.00">[item.uploaded = null]</text>
</g>
<!-- setUpdNull&#45;&gt;lastDownUpd -->
<g id="edge7" class="edge"><title>setUpdNull&#45;&gt;lastDownUpd</title>
<path fill="none" stroke="black" d="M184.369,-96.8129C182.674,-88.7895 180.616,-79.0475 178.719,-70.0691"/>
<polygon fill="black" stroke="black" points="182.089,-69.0894 176.598,-60.0288 175.24,-70.5364 182.089,-69.0894"/>
</g>
<!-- uploadData -->
<g id="node9" class="node"><title>uploadData</title>
<polygon fill="white" stroke="black" points="644,-220 356,-220 356,-184 644,-184 644,-220"/>
<text text-anchor="middle" x="500" y="-198.3" font-family="consolas" font-size="14.00">Upload(results)</text>
</g>
<!-- setUploaded -->
<g id="node11" class="node"><title>setUploaded</title>
<polygon fill="white" stroke="black" points="644,-133 356,-133 356,-97 644,-97 644,-133"/>
<text text-anchor="middle" x="500" y="-111.3" font-family="consolas" font-size="14.00">[result.uploaded = now]</text>
</g>
<!-- uploadData&#45;&gt;setUploaded -->
<g id="edge12" class="edge"><title>uploadData&#45;&gt;setUploaded</title>
<path fill="none" stroke="black" d="M500,-183.799C500,-172.163 500,-156.548 500,-143.237"/>
<polygon fill="black" stroke="black" points="503.5,-143.175 500,-133.175 496.5,-143.175 503.5,-143.175"/>
</g>
<!-- itemOverwritten&#45;&gt;setUpdNull -->
<g id="edge6" class="edge"><title>itemOverwritten&#45;&gt;setUpdNull</title>
<path fill="none" stroke="black" d="M188,-183.799C188,-172.163 188,-156.548 188,-143.237"/>
<polygon fill="black" stroke="black" points="191.5,-143.175 188,-133.175 184.5,-143.175 191.5,-143.175"/>
</g>
<!-- setUploaded&#45;&gt;end -->
<g id="edge14" class="edge"><title>setUploaded&#45;&gt;end</title>
<path fill="none" stroke="black" d="M516.703,-96.8129C525.263,-88.0046 535.836,-77.125 545.231,-67.4584"/>
<polygon fill="black" stroke="black" points="547.991,-69.6395 552.451,-60.0288 542.971,-64.7609 547.991,-69.6395"/>
</g>
<!-- reqAny&#45;&gt;histNullUploaded -->
<g id="edge9" class="edge"><title>reqAny&#45;&gt;histNullUploaded</title>
<path fill="none" stroke="black" d="M231.055,-436.27C281.727,-422.465 366.668,-399.324 427.539,-382.741"/>
<polygon fill="black" stroke="black" points="428.743,-386.041 437.472,-380.035 426.903,-379.287 428.743,-386.041"/>
<text text-anchor="middle" x="382" y="-401.8" font-family="consolas" font-size="14.00">false</text>
</g>
<!-- reqAny&#45;&gt;decode -->
<g id="edge3" class="edge"><title>reqAny&#45;&gt;decode</title>
<path fill="none" stroke="black" d="M188,-430.799C188,-419.163 188,-403.548 188,-390.237"/>
<polygon fill="black" stroke="black" points="191.5,-390.175 188,-380.175 184.5,-390.175 191.5,-390.175"/>
<text text-anchor="middle" x="203.5" y="-401.8" font-family="consolas" font-size="14.00">true</text>
</g>
<!-- nullUploadAny&#45;&gt;end -->
<g id="edge13" class="edge"><title>nullUploadAny&#45;&gt;end</title>
<path fill="none" stroke="black" d="M558.199,-278.238C592.067,-269.246 632.092,-252.173 653,-220 684.726,-171.181 682.679,-139.09 653,-89 647.29,-79.3624 638.767,-71.6115 629.307,-65.4217"/>
<polygon fill="black" stroke="black" points="630.801,-62.2389 620.41,-60.1668 627.241,-68.2661 630.801,-62.2389"/>
<text text-anchor="middle" x="696" y="-154.8" font-family="consolas" font-size="14.00">false</text>
</g>
<!-- nullUploadAny&#45;&gt;uploadData -->
<g id="edge11" class="edge"><title>nullUploadAny&#45;&gt;uploadData</title>
<path fill="none" stroke="black" d="M488.217,-272.457C484.51,-266.664 480.892,-259.829 479,-253 476.809,-245.089 478.546,-236.767 481.79,-229.232"/>
<polygon fill="black" stroke="black" points="484.982,-230.68 486.522,-220.198 478.782,-227.432 484.982,-230.68"/>
<text text-anchor="middle" x="494.5" y="-241.8" font-family="consolas" font-size="14.00">true</text>
</g>
<!-- Terminator -->
<g id="node14" class="node"><title>Terminator</title>
<path fill="white" stroke="black" d="M892,-613C892,-613 772,-613 772,-613 766,-613 760,-607 760,-601 760,-601 760,-589 760,-589 760,-583 766,-577 772,-577 772,-577 892,-577 892,-577 898,-577 904,-583 904,-589 904,-589 904,-601 904,-601 904,-607 898,-613 892,-613"/>
<text text-anchor="middle" x="832" y="-591.3" font-family="consolas" font-size="14.00">Terminator</text>
</g>
<!-- Process -->
<g id="node15" class="node"><title>Process</title>
<polygon fill="white" stroke="black" points="976,-540 688,-540 688,-504 976,-504 976,-540"/>
<text text-anchor="middle" x="832" y="-518.3" font-family="consolas" font-size="14.00">Process</text>
</g>
<!-- Terminator&#45;&gt;Process -->
<g id="edge15" class="edge"><title>Terminator&#45;&gt;Process</title>
<path fill="none" stroke="black" d="M832,-576.813C832,-568.789 832,-559.047 832,-550.069"/>
<polygon fill="black" stroke="black" points="835.5,-550.029 832,-540.029 828.5,-550.029 835.5,-550.029"/>
</g>
<!-- Input -->
<g id="node16" class="node"><title>Input</title>
<polygon fill="white" stroke="black" points="976,-467 713.719,-467 688,-431 950.281,-431 976,-467"/>
<text text-anchor="middle" x="832" y="-445.3" font-family="consolas" font-size="14.00">Input</text>
</g>
<!-- Process&#45;&gt;Input -->
<g id="edge16" class="edge"><title>Process&#45;&gt;Input</title>
<path fill="none" stroke="black" d="M832,-503.813C832,-495.789 832,-486.047 832,-477.069"/>
<polygon fill="black" stroke="black" points="835.5,-477.029 832,-467.029 828.5,-477.029 835.5,-477.029"/>
</g>
<!-- Branch -->
<g id="node17" class="node"><title>Branch</title>
<polygon fill="white" stroke="black" points="832,-380 688,-362 832,-344 976,-362 832,-380"/>
<text text-anchor="middle" x="832" y="-358.3" font-family="consolas" font-size="14.00">Branch</text>
</g>
<!-- Input&#45;&gt;Branch -->
<g id="edge17" class="edge"><title>Input&#45;&gt;Branch</title>
<path fill="none" stroke="black" d="M832,-430.799C832,-419.163 832,-403.548 832,-390.237"/>
<polygon fill="black" stroke="black" points="835.5,-390.175 832,-380.175 828.5,-390.175 835.5,-390.175"/>
</g>
</g>
</svg>
