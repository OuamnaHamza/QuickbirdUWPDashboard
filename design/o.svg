<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: G Pages: 1 -->
<svg width="763pt" height="783pt"
 viewBox="0.00 0.00 763.00 783.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 779)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-779 759,-779 759,4 -4,4"/>
<g id="clust1" class="cluster"><title>cluster0</title>
<polygon fill="lightgray" stroke="lightgray" points="8,-8 8,-767 609,-767 609,-8 8,-8"/>
<text text-anchor="middle" x="308.5" y="-751.8" font-family="consolas" font-size="14.00">Sync Process</text>
</g>
<g id="clust4" class="cluster"><title>clusterlegend</title>
<polygon fill="lightgray" stroke="lightgray" points="617,-459 617,-767 747,-767 747,-459 617,-459"/>
<text text-anchor="middle" x="682" y="-751.8" font-family="consolas" font-size="14.00">Legend</text>
</g>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<path fill="orange" stroke="black" d="M437,-736C437,-736 347,-736 347,-736 341,-736 335,-730 335,-724 335,-724 335,-712 335,-712 335,-706 341,-700 347,-700 347,-700 437,-700 437,-700 443,-700 449,-706 449,-712 449,-712 449,-724 449,-724 449,-730 443,-736 437,-736"/>
<text text-anchor="middle" x="392" y="-714.3" font-family="consolas" font-size="14.00">Sync($device)</text>
</g>
<!-- request -->
<g id="node3" class="node"><title>request</title>
<polygon fill="white" stroke="black" points="600.798,-663 220.494,-663 183.202,-627 563.506,-627 600.798,-663"/>
<text text-anchor="middle" x="392" y="-641.3" font-family="consolas" font-size="14.00">GET:Hist/$device/5/$lastDown</text>
</g>
<!-- start&#45;&gt;request -->
<g id="edge1" class="edge"><title>start&#45;&gt;request</title>
<path fill="none" stroke="black" d="M392,-699.813C392,-691.789 392,-682.047 392,-673.069"/>
<polygon fill="black" stroke="black" points="395.5,-673.029 392,-663.029 388.5,-673.029 395.5,-673.029"/>
</g>
<!-- end -->
<g id="node2" class="node"><title>end</title>
<path fill="orange" stroke="black" d="M255,-52C255,-52 225,-52 225,-52 219,-52 213,-46 213,-40 213,-40 213,-28 213,-28 213,-22 219,-16 225,-16 225,-16 255,-16 255,-16 261,-16 267,-22 267,-28 267,-28 267,-40 267,-40 267,-46 261,-52 255,-52"/>
<text text-anchor="middle" x="240" y="-30.3" font-family="consolas" font-size="14.00">End</text>
</g>
<!-- reqAny -->
<g id="node12" class="node"><title>reqAny</title>
<polygon fill="white" stroke="black" points="392,-590 293.8,-572 392,-554 490.2,-572 392,-590"/>
<text text-anchor="middle" x="392" y="-568.3" font-family="consolas" font-size="14.00">result.Any()</text>
</g>
<!-- request&#45;&gt;reqAny -->
<g id="edge2" class="edge"><title>request&#45;&gt;reqAny</title>
<path fill="none" stroke="black" d="M392,-626.813C392,-618.789 392,-609.047 392,-600.069"/>
<polygon fill="black" stroke="black" points="395.5,-600.029 392,-590.029 388.5,-600.029 395.5,-600.029"/>
</g>
<!-- histNullUploaded -->
<g id="node4" class="node"><title>histNullUploaded</title>
<polygon fill="white" stroke="black" points="433.798,-503 53.4943,-503 16.2025,-467 396.506,-467 433.798,-503"/>
<text text-anchor="middle" x="225" y="-481.3" font-family="consolas" font-size="14.00">DB:Hist.Where(uploaded=null)</text>
</g>
<!-- nullUploadAny -->
<g id="node13" class="node"><title>nullUploadAny</title>
<polygon fill="white" stroke="black" points="225,-376 134.007,-358 225,-340 315.993,-358 225,-376"/>
<text text-anchor="middle" x="225" y="-354.3" font-family="consolas" font-size="14.00">query.Any()</text>
</g>
<!-- histNullUploaded&#45;&gt;nullUploadAny -->
<g id="edge10" class="edge"><title>histNullUploaded&#45;&gt;nullUploadAny</title>
<path fill="none" stroke="black" d="M225,-466.881C225,-446.146 225,-410.953 225,-386.422"/>
<polygon fill="black" stroke="black" points="228.5,-386.313 225,-376.313 221.5,-386.313 228.5,-386.313"/>
</g>
<!-- decode -->
<g id="node5" class="node"><title>decode</title>
<polygon fill="white" stroke="black" points="580.5,-503 451.5,-503 451.5,-467 580.5,-467 580.5,-503"/>
<text text-anchor="middle" x="516" y="-481.3" font-family="consolas" font-size="14.00">Decode(results)</text>
</g>
<!-- merge -->
<g id="node6" class="node"><title>merge</title>
<polygon fill="white" stroke="black" points="554,-430 432,-430 432,-394 554,-394 554,-430"/>
<text text-anchor="middle" x="493" y="-408.3" font-family="consolas" font-size="14.00">Merge(decoded)</text>
</g>
<!-- decode&#45;&gt;merge -->
<g id="edge5" class="edge"><title>decode&#45;&gt;merge</title>
<path fill="none" stroke="black" d="M510.432,-466.813C507.805,-458.702 504.609,-448.836 501.674,-439.777"/>
<polygon fill="black" stroke="black" points="504.928,-438.463 498.516,-430.029 498.269,-440.621 504.928,-438.463"/>
</g>
<!-- itemOverwritten -->
<g id="node10" class="node"><title>itemOverwritten</title>
<polygon fill="white" stroke="black" points="581,-322 377,-322 377,-286 581,-286 581,-322"/>
<text text-anchor="middle" x="479" y="-300.3" font-family="consolas" font-size="14.00">merged.Where(overwritten)</text>
</g>
<!-- merge&#45;&gt;itemOverwritten -->
<g id="edge6" class="edge"><title>merge&#45;&gt;itemOverwritten</title>
<path fill="none" stroke="black" d="M490.751,-393.969C488.559,-377.378 485.192,-351.883 482.623,-332.431"/>
<polygon fill="black" stroke="black" points="486.07,-331.796 481.29,-322.341 479.13,-332.713 486.07,-331.796"/>
</g>
<!-- lastDownUpd -->
<g id="node7" class="node"><title>lastDownUpd</title>
<polygon fill="white" stroke="black" points="599.5,-106 380.5,-106 380.5,-70 599.5,-70 599.5,-106"/>
<text text-anchor="middle" x="490" y="-84.3" font-family="consolas" font-size="14.00">$lastDown=items.Last().Date</text>
</g>
<!-- lastDownUpd&#45;&gt;request -->
<g id="edge9" class="edge"><title>lastDownUpd&#45;&gt;request</title>
<path fill="none" stroke="black" d="M527.548,-106.115C559.414,-123.51 600,-153.76 600,-195 600,-573 600,-573 600,-573 600,-595.984 553.939,-613.059 505.168,-624.696"/>
<polygon fill="black" stroke="black" points="504.348,-621.293 495.391,-626.952 505.921,-628.114 504.348,-621.293"/>
</g>
<!-- setUpdNull -->
<g id="node8" class="node"><title>setUpdNull</title>
<polygon fill="white" stroke="black" points="578,-214 396,-214 396,-178 578,-178 578,-214"/>
<text text-anchor="middle" x="487" y="-192.3" font-family="consolas" font-size="14.00">[item.uploaded = null]</text>
</g>
<!-- setUpdNull&#45;&gt;lastDownUpd -->
<g id="edge8" class="edge"><title>setUpdNull&#45;&gt;lastDownUpd</title>
<path fill="none" stroke="black" d="M487.482,-177.969C487.952,-161.378 488.673,-135.883 489.224,-116.431"/>
<polygon fill="black" stroke="black" points="492.725,-116.436 489.509,-106.341 485.728,-116.238 492.725,-116.436"/>
</g>
<!-- uploadData -->
<g id="node9" class="node"><title>uploadData</title>
<polygon fill="white" stroke="black" points="340.5,-268 211.5,-268 211.5,-232 340.5,-232 340.5,-268"/>
<text text-anchor="middle" x="276" y="-246.3" font-family="consolas" font-size="14.00">Upload(results)</text>
</g>
<!-- setUploaded -->
<g id="node11" class="node"><title>setUploaded</title>
<polygon fill="white" stroke="black" points="385.5,-160 196.5,-160 196.5,-124 385.5,-124 385.5,-160"/>
<text text-anchor="middle" x="291" y="-138.3" font-family="consolas" font-size="14.00">[result.uploaded = now]</text>
</g>
<!-- uploadData&#45;&gt;setUploaded -->
<g id="edge12" class="edge"><title>uploadData&#45;&gt;setUploaded</title>
<path fill="none" stroke="black" d="M278.41,-231.969C280.758,-215.378 284.366,-189.883 287.118,-170.431"/>
<polygon fill="black" stroke="black" points="290.61,-170.732 288.546,-160.341 283.679,-169.752 290.61,-170.732"/>
</g>
<!-- itemOverwritten&#45;&gt;setUpdNull -->
<g id="edge7" class="edge"><title>itemOverwritten&#45;&gt;setUpdNull</title>
<path fill="none" stroke="black" d="M480.285,-285.969C481.538,-269.378 483.462,-243.883 484.93,-224.431"/>
<polygon fill="black" stroke="black" points="488.429,-224.576 485.691,-214.341 481.449,-224.049 488.429,-224.576"/>
</g>
<!-- setUploaded&#45;&gt;end -->
<g id="edge14" class="edge"><title>setUploaded&#45;&gt;end</title>
<path fill="none" stroke="black" d="M282.806,-123.969C274.676,-107.071 262.101,-80.9353 252.681,-61.3563"/>
<polygon fill="black" stroke="black" points="255.833,-59.8344 248.343,-52.3406 249.525,-62.8693 255.833,-59.8344"/>
</g>
<!-- reqAny&#45;&gt;histNullUploaded -->
<g id="edge4" class="edge"><title>reqAny&#45;&gt;histNullUploaded</title>
<path fill="none" stroke="black" d="M367.359,-558.458C341.181,-545.134 299.301,-523.818 267.728,-507.748"/>
<polygon fill="black" stroke="black" points="269.204,-504.572 258.704,-503.155 266.028,-510.81 269.204,-504.572"/>
<text text-anchor="middle" x="338" y="-524.8" font-family="consolas" font-size="14.00">false</text>
</g>
<!-- reqAny&#45;&gt;decode -->
<g id="edge3" class="edge"><title>reqAny&#45;&gt;decode</title>
<path fill="none" stroke="black" d="M411.648,-557.531C430.662,-544.498 459.856,-524.486 482.535,-508.94"/>
<polygon fill="black" stroke="black" points="484.604,-511.765 490.873,-503.224 480.646,-505.991 484.604,-511.765"/>
<text text-anchor="middle" x="477.5" y="-524.8" font-family="consolas" font-size="14.00">true</text>
</g>
<!-- nullUploadAny&#45;&gt;end -->
<g id="edge13" class="edge"><title>nullUploadAny&#45;&gt;end</title>
<path fill="none" stroke="black" d="M219.008,-340.969C205.617,-302.879 175.892,-204.14 195,-124 200.387,-101.405 212.486,-78.0503 222.783,-60.937"/>
<polygon fill="black" stroke="black" points="225.959,-62.4572 228.264,-52.1161 220.013,-58.7628 225.959,-62.4572"/>
<text text-anchor="middle" x="210" y="-192.3" font-family="consolas" font-size="14.00">false</text>
</g>
<!-- nullUploadAny&#45;&gt;uploadData -->
<g id="edge11" class="edge"><title>nullUploadAny&#45;&gt;uploadData</title>
<path fill="none" stroke="black" d="M232.525,-341.359C240.621,-324.532 253.635,-297.483 263.318,-277.359"/>
<polygon fill="black" stroke="black" points="266.585,-278.64 267.767,-268.112 260.277,-275.605 266.585,-278.64"/>
<text text-anchor="middle" x="274.5" y="-300.3" font-family="consolas" font-size="14.00">true</text>
</g>
<!-- Terminator -->
<g id="node14" class="node"><title>Terminator</title>
<path fill="orange" stroke="black" d="M716,-736C716,-736 648,-736 648,-736 642,-736 636,-730 636,-724 636,-724 636,-712 636,-712 636,-706 642,-700 648,-700 648,-700 716,-700 716,-700 722,-700 728,-706 728,-712 728,-712 728,-724 728,-724 728,-730 722,-736 716,-736"/>
<text text-anchor="middle" x="682" y="-714.3" font-family="consolas" font-size="14.00">Terminator</text>
</g>
<!-- Process -->
<g id="node15" class="node"><title>Process</title>
<polygon fill="white" stroke="black" points="716.5,-663 647.5,-663 647.5,-627 716.5,-627 716.5,-663"/>
<text text-anchor="middle" x="682" y="-641.3" font-family="consolas" font-size="14.00">Process</text>
</g>
<!-- Terminator&#45;&gt;Process -->
<g id="edge15" class="edge"><title>Terminator&#45;&gt;Process</title>
<path fill="none" stroke="black" d="M682,-699.813C682,-691.789 682,-682.047 682,-673.069"/>
<polygon fill="black" stroke="black" points="685.5,-673.029 682,-663.029 678.5,-673.029 685.5,-673.029"/>
</g>
<!-- Input -->
<g id="node16" class="node"><title>Input</title>
<polygon fill="white" stroke="black" points="731.769,-590 641.12,-590 632.231,-554 722.88,-554 731.769,-590"/>
<text text-anchor="middle" x="682" y="-568.3" font-family="consolas" font-size="14.00">Input</text>
</g>
<!-- Process&#45;&gt;Input -->
<g id="edge16" class="edge"><title>Process&#45;&gt;Input</title>
<path fill="none" stroke="black" d="M682,-626.813C682,-618.789 682,-609.047 682,-600.069"/>
<polygon fill="black" stroke="black" points="685.5,-600.029 682,-590.029 678.5,-600.029 685.5,-600.029"/>
</g>
<!-- Branch -->
<g id="node17" class="node"><title>Branch</title>
<polygon fill="white" stroke="black" points="682,-503 625.024,-485 682,-467 738.976,-485 682,-503"/>
<text text-anchor="middle" x="682" y="-481.3" font-family="consolas" font-size="14.00">Branch</text>
</g>
<!-- Input&#45;&gt;Branch -->
<g id="edge17" class="edge"><title>Input&#45;&gt;Branch</title>
<path fill="none" stroke="black" d="M682,-553.799C682,-542.163 682,-526.548 682,-513.237"/>
<polygon fill="black" stroke="black" points="685.5,-513.175 682,-503.175 678.5,-513.175 685.5,-513.175"/>
</g>
</g>
</svg>
